ChatGPT —Å–∫–∞–∑–∞–ª:

–û—Ç–ª–∏—á–Ω–æ! üöÄ

–í–æ—Ç 02.5-useReducer.md –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ:

üìÑ 02.5-useReducer.md
# useReducer ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ React

## üîπ –ö—Ä–∞—Ç–∫–æ
`useReducer` ‚Äî —ç—Ç–æ **—Ö—É–∫ React**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ **—Ä–µ–¥—å—é—Å–µ—Ä**, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ Redux.  
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è **—Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è** –∏ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏.

```jsx
const [state, dispatch] = useReducer(reducer, initialState);


state ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

dispatch ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π.

reducer ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

üîπ –ü–æ–¥—Ä–æ–±–Ω–æ
–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

reducer –∏–º–µ–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—É: (state, action) => newState.

action ‚Äî –æ–±—ä–µ–∫—Ç —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–ª–µ–º type –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (payload).

useReducer —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–µ —Å useContext –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

üîπ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
1. –ü—Ä–æ—Å—Ç–æ–π —Å—á—ë—Ç—á–∏–∫
import { useReducer } from "react";

function reducer(state, action) {
  switch(action.type) {
    case "increment":
      return { count: state.count + 1 };
    case "decrement":
      return { count: state.count - 1 };
    default:
      return state;
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, { count: 0 });

  return (
    <div>
      <p>–°—á—ë—Ç—á–∏–∫: {state.count}</p>
      <button onClick={() => dispatch({ type: "increment" })}>+1</button>
      <button onClick={() => dispatch({ type: "decrement" })}>-1</button>
    </div>
  );
}

2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–º –∑–∞–¥–∞—á
function todoReducer(state, action) {
  switch(action.type) {
    case "add":
      return [...state, { id: Date.now(), text: action.payload }];
    case "remove":
      return state.filter(todo => todo.id !== action.payload);
    default:
      return state;
  }
}

function TodoApp() {
  const [todos, dispatch] = useReducer(todoReducer, []);
  
  const addTodo = () => {
    const text = prompt("–í–≤–µ–¥–∏—Ç–µ –∑–∞–¥–∞—á—É:");
    if (text) dispatch({ type: "add", payload: text });
  };

  return (
    <div>
      <button onClick={addTodo}>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
      <ul>
        {todos.map(todo => (
          <li key={todo.id}>
            {todo.text} <button onClick={() => dispatch({ type: "remove", payload: todo.id })}>–£–¥–∞–ª–∏—Ç—å</button>
          </li>
        ))}
      </ul>
    </div>
  );
}

üîπ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å —Å—á—ë—Ç—á–∏–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º useReducer, –¥–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫–∏ +1 –∏ -1.

–°–¥–µ–ª–∞—Ç—å todo-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ useReducer.

–î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–º–µ—Ç–∫–∏ –∑–∞–¥–∞—á–∏ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ dispatch.

–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å useReducer —Å useContext –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

üîπ –°–æ–≤–µ—Ç—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useReducer –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö useState.

–î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–∞ –∏–ª–∏ —Å—Ç—Ä–æ–∫–∏ useState –ø—Ä–æ—â–µ.

–†–∞–∑–¥–µ–ª—è–π—Ç–µ —Ä–µ–¥—å—é—Å–µ—Ä—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏.

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ switch-case –∏–ª–∏ –æ–±—ä–µ–∫—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π.

üîπ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

useReducer –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ Redux, –Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω –≤ React –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä init –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

const [state, dispatch] = useReducer(reducer, initialArg, init);


–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è useReducer –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ö—É–∫–∞–º –∏ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ (useMemo, useCallback) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.