–í—ã —Å–∫–∞–∑–∞–ª–∏:
–¥–∞–ª—å—à–µ
ChatGPT —Å–∫–∞–∑–∞–ª:

–û—Ç–ª–∏—á–Ω–æ! üöÄ

–í–æ—Ç 02.2-useEffect.md –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ:

üìÑ 02.2-useEffect.md
# useEffect ‚Äî –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

## üîπ –ö—Ä–∞—Ç–∫–æ
`useEffect` ‚Äî —ç—Ç–æ **—Ö—É–∫ React**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å **–ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —Ç–∞–∫–∏–µ –∫–∞–∫:
- –†–∞–±–æ—Ç–∞ —Å API (fetch/axios)
- –¢–∞–π–º–µ—Ä—ã –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª
- –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
- –ú–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å DOM

```jsx
useEffect(() => {
  // –∫–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∞
  return () => {
    // –æ—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞
  };
}, [dependencies]);


–ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ [] ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

–ú–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π [state1, state2] ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

–ë–µ–∑ –º–∞—Å—Å–∏–≤–∞ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞.

üîπ –ü–æ–¥—Ä–æ–±–Ω–æ
–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ useEffect.

–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —ç—Ñ—Ñ–µ–∫—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏.

–§—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ return –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–ª–∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º –∑–∞–ø—É—Å–∫–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∞.

–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

componentDidMount ‚Äî –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π [].

componentDidUpdate ‚Äî –º–∞—Å—Å–∏–≤ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ [state].

componentWillUnmount ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –≤–Ω—É—Ç—Ä–∏ return.

üîπ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
1. –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
import { useEffect } from "react";

function App() {
  useEffect(() => {
    console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω");
  }, []); // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑

  return <h1>–ü—Ä–∏–≤–µ—Ç!</h1>;
}

2. –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
import { useState, useEffect } from "react";

function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log("–°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è:", count);
  }, [count]); // –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count

  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}

3. –û—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ (—Ç–∞–π–º–µ—Ä)
import { useState, useEffect } from "react";

function Timer() {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => setSeconds(s => s + 1), 1000);
    return () => clearInterval(interval); // –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  }, []);

  return <h1>{seconds} —Å–µ–∫—É–Ω–¥</h1>;
}

4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
import { useState, useEffect } from "react";

function FetchData() {
  const [data, setData] = useState(null);

  useEffect(() => {
    async function fetchData() {
      const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
      const json = await response.json();
      setData(json);
    }
    fetchData();
  }, []);

  if (!data) return <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>;
  return <div>{data.title}</div>;
}

üîπ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Timer —Å —Ç–∞–π–º–µ—Ä–æ–º —Å–µ–∫—É–Ω–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º useEffect.

–°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Counter, –ª–æ–≥–∏—Ä—É—é—â–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–°–¥–µ–ª–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç FetchData, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å API –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏.

–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –±–µ–∑ –º–∞—Å—Å–∏–≤–∞.

üîπ –°–æ–≤–µ—Ç—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–í—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–π—Ç–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏.

–ù–µ –¥–µ–ª–∞–π—Ç–µ useEffect –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –Ω–∞–ø—Ä—è–º—É—é ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é async-—Ñ—É–Ω–∫—Ü–∏—é.

–†–∞–∑–¥–µ–ª—è–π—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø–æ –ª–æ–≥–∏–∫–µ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ useEffect, —á—Ç–æ–±—ã –∫–æ–¥ –æ—Å—Ç–∞–≤–∞–ª—Å—è —á–∏—Ç–∞–µ–º—ã–º.

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.

üîπ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

useEffect –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–µ—Ç–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (componentDidMount, componentDidUpdate, componentWillUnmount).

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ useEffect –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è useEffect –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ useRef, useContext –∏ –¥—Ä—É–≥–∏–º —Ö—É–∫–∞–º.