# 24. Паттерны проектирования в JavaScript

Паттерны проектирования помогают создавать структурированный и поддерживаемый код.

## 24.1 Singleton (Одиночка)

* Гарантирует, что класс имеет только один экземпляр

```javascript
const Singleton = (function() {
    let instance;
    function createInstance() {
        return { name: 'Instance' };
    }
    return {
        getInstance: function() {
            if (!instance) instance = createInstance();
            return instance;
        }
    };
})();

let a = Singleton.getInstance();
let b = Singleton.getInstance();
console.log(a === b); // true
```

## 24.2 Module Pattern

* Инкапсуляция кода, скрытие переменных и методов

```javascript
const Module = (function() {
    let privateVar = 'secret';
    function privateMethod() {
        console.log(privateVar);
    }
    return {
        publicMethod: function() {
            privateMethod();
        }
    };
})();

Module.publicMethod(); // secret
```

## 24.3 Observer (Наблюдатель)

* Позволяет объектам подписываться на события других объектов

```javascript
class Subject {
    constructor() { this.observers = []; }
    subscribe(observer) { this.observers.push(observer); }
    notify(data) { this.observers.forEach(obs => obs.update(data)); }
}

class Observer {
    update(data) { console.log('Received:', data); }
}

let subj = new Subject();
let obs1 = new Observer();
subj.subscribe(obs1);
subj.notify('Hello'); // Received: Hello
```

## 24.4 Factory

* Создание объектов с разными конфигурациями

```javascript
function createUser(name, role) {
    if(role === 'admin') return { name, permissions: ['read','write'] };
    return { name, permissions: ['read'] };
}
console.log(createUser('John','admin'));
```

## Советы

* Singleton подходит для глобальных сервисов или настроек
* Module pattern помогает скрыть внутренние детали реализации
* Observer полезен для событийных систем
* Factory облегчает создание объектов с разными параметрами
